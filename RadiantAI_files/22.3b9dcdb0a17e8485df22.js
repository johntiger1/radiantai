(function(){var C=document&&document.currentScript&&document.currentScript.src;(window.webpackJsonpruntime=window.webpackJsonpruntime||[]).push([[22],{aQKb:function(D,w,A){"use strict";A.r(w),A.d(w,"init",function(){return x});function x(){I(),N(),window.rtCommonProps["keyboard.navigation.enabled"]&&q()}function I(){const e=document.querySelectorAll('.dmMobileBody [dmle_extension="onelinksmenu"] li.dmUDNavigationItem_dmMore > a');e.forEach(i=>i.removeEventListener("click",E)),e.forEach(i=>i.addEventListener("click",E))}function E(e){const i=e.target.closest("li.dmUDNavigationItem_dmMore");i.classList.add("hover"),document.body.addEventListener("click",()=>{i.classList.remove("hover")},{once:!0})}function N(){[...document.querySelectorAll(`.unifiednav:not([data-nav-structure='VERTICAL']) .unifiednav__container_sub-nav[data-depth="0"]`)].forEach(e=>{const i=e.querySelector(".unifiednav__container"),f=e.getBoundingClientRect();if(!(f.top+f.height<=window.innerHeight))if(i){const u=window.rtCommonProps["runtime.navigationWidget.menu.clipPath"];u?e.style.transition="transform 0.1s ease-out, opacity 0.1s ease-out, clip-path 0.1s ease-out":e.style.transitionDuration="0.2s",e.addEventListener("wheel",m=>{m.preventDefault();const r=m.currentTarget,y=Number(r.dataset.scrollY||0),c=window._navScrollSpeed||35,a=m.deltaY>0?c:-c,k=f.height-window.innerHeight+f.top,p=Math.max(0,Math.min(y+a,k));r.dataset.scrollY=p,r.style.transform=`translate(0, -${p}px)`,u&&(r.style.clipPath=`inset(${p}px -100vw -100vw -100vw)`)})}else e.style.maxHeight="65vh",e.style.overflow="auto"})}function q(){const e={tab:"Tab",enter:"Enter",esc:"Escape",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown"},i=document.querySelectorAll(".unifiednav");Array.from(i).forEach(f=>{const u=f.querySelectorAll(".unifiednav > ul > li"),m=f.querySelectorAll(".unifiednav > ul > li li");let r=0,y=[],c,a;const k=t=>{c=t,c.style.opacity=1,c.style.maxHeight="initial",y.push(t)},p=t=>{t.style.removeProperty("opacity"),t.style.removeProperty("max-height")},v=()=>{c&&(p(c),c=null)},h=()=>{y.forEach(t=>p(t)),y=[]},S=t=>{const s=t.getElementsByTagName("a")[0];s&&s.focus()},b=t=>{r=t,t===u.length?r=0:t<0&&(r=u.length-1),S(u[r])},d=(t,s)=>{a=s;const n=t.children;s===n.length?a=0:s<0&&(a=n.length-1),S(n[a]),k(t)},L=t=>{t.getElementsByTagName("a")[0].click()},P=({element:t,index:s})=>{Array.from(t.querySelectorAll("a")).forEach((n,o)=>{s===0&&o===0?(n.setAttribute("tabindex","0"),t.addEventListener("focus",()=>{r=0})):n.setAttribute("tabindex","-1")})};Array.prototype.forEach.call(u,(t,s)=>{P({element:t,index:s}),t.addEventListener("focus",()=>{a=0,Array.prototype.forEach.call(u,n=>{n.setAttribute("aria-expanded","false")})}),t.addEventListener("click",function(){this.getAttribute("aria-expanded")==="false"||this.getAttribute("aria-expanded")===null?this.setAttribute("aria-expanded","true"):this.setAttribute("aria-expanded","false")}),t.addEventListener("keydown",function(n){let o=!1;const l=this.querySelector("ul");switch(n.code){case e.right:b(r+1),h(),o=!0;break;case e.left:b(r-1),h(),o=!0;break;case e.tab:h();break;case e.space:case e.enter:l?(a=0,v(),d(l,0)):L(this),o=!0;break;case e.down:l&&(a=0,d(l,0),o=!0);break;case e.up:l&&(a=l.querySelectorAll("li").length-1,d(l,a),o=!0);break;case e.esc:v(),b(r),o=!0;break;default:o=!1}o&&n.preventDefault()})}),Array.prototype.forEach.call(m,t=>{t.addEventListener("keydown",function(s){let n=!1;const o=this.querySelector("ul"),l=this.parentNode.parentNode,g=l.closest(".unifiednav__container_sub-nav"),M=()=>{v(),a=Array.prototype.indexOf.call(g.children,l),c=g,d(g,a)};switch(s.code){case e.tab:h();break;case e.right:o?d(o,0):(b(r+1),h()),n=!0;break;case e.left:g?M():(b(r-1),h()),n=!0;break;case e.esc:g?M():(b(r),v()),n=!0;break;case e.down:d(this.parentNode,a+1),n=!0;break;case e.up:d(this.parentNode,a-1),n=!0;break;case e.enter:case e.space:o?d(o,0):L(this),n=!0;break;default:n=!1}return n&&(s.preventDefault(),s.stopPropagation()),!1})})})}}}])})();
